/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
import * as z from "zod";

import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

export const GetApiAgentPortfolioChain = {
  Evm: "evm",
  Svm: "svm",
} as const;
export type GetApiAgentPortfolioChain = ClosedEnum<
  typeof GetApiAgentPortfolioChain
>;

export type Token = {
  /**
   * Token address
   */
  token?: string | undefined;
  /**
   * Token amount
   */
  amount?: number | undefined;
  /**
   * Token price in USD
   */
  price?: number | undefined;
  /**
   * Token value in USD
   */
  value?: number | undefined;
  chain?: GetApiAgentPortfolioChain | undefined;
  specificChain?: string | undefined;
  symbol?: string | undefined;
};

/**
 * Data source (snapshot or live-calculation)
 */
export const Source = {
  Snapshot: "snapshot",
  LiveCalculation: "live-calculation",
} as const;
/**
 * Data source (snapshot or live-calculation)
 */
export type Source = ClosedEnum<typeof Source>;

/**
 * Portfolio retrieved successfully
 */
export type GetApiAgentPortfolioResponse = {
  success?: boolean | undefined;
  agentId?: string | undefined;
  /**
   * Total portfolio value in USD
   */
  totalValue?: number | undefined;
  tokens?: Array<Token> | undefined;
  /**
   * Data source (snapshot or live-calculation)
   */
  source?: Source | undefined;
  /**
   * Time of snapshot (only present if source is snapshot)
   */
  snapshotTime?: Date | undefined;
};

/** @internal */
export const GetApiAgentPortfolioChain$inboundSchema: z.ZodNativeEnum<
  typeof GetApiAgentPortfolioChain
> = z.nativeEnum(GetApiAgentPortfolioChain);

/** @internal */
export const GetApiAgentPortfolioChain$outboundSchema: z.ZodNativeEnum<
  typeof GetApiAgentPortfolioChain
> = GetApiAgentPortfolioChain$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace GetApiAgentPortfolioChain$ {
  /** @deprecated use `GetApiAgentPortfolioChain$inboundSchema` instead. */
  export const inboundSchema = GetApiAgentPortfolioChain$inboundSchema;
  /** @deprecated use `GetApiAgentPortfolioChain$outboundSchema` instead. */
  export const outboundSchema = GetApiAgentPortfolioChain$outboundSchema;
}

/** @internal */
export const Token$inboundSchema: z.ZodType<Token, z.ZodTypeDef, unknown> =
  z.object({
    token: z.string().optional(),
    amount: z.number().optional(),
    price: z.number().optional(),
    value: z.number().optional(),
    chain: GetApiAgentPortfolioChain$inboundSchema.optional(),
    specificChain: z.string().optional(),
    symbol: z.string().optional(),
  });

/** @internal */
export type Token$Outbound = {
  token?: string | undefined;
  amount?: number | undefined;
  price?: number | undefined;
  value?: number | undefined;
  chain?: string | undefined;
  specificChain?: string | undefined;
  symbol?: string | undefined;
};

/** @internal */
export const Token$outboundSchema: z.ZodType<
  Token$Outbound,
  z.ZodTypeDef,
  Token
> = z.object({
  token: z.string().optional(),
  amount: z.number().optional(),
  price: z.number().optional(),
  value: z.number().optional(),
  chain: GetApiAgentPortfolioChain$outboundSchema.optional(),
  specificChain: z.string().optional(),
  symbol: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Token$ {
  /** @deprecated use `Token$inboundSchema` instead. */
  export const inboundSchema = Token$inboundSchema;
  /** @deprecated use `Token$outboundSchema` instead. */
  export const outboundSchema = Token$outboundSchema;
  /** @deprecated use `Token$Outbound` instead. */
  export type Outbound = Token$Outbound;
}

export function tokenToJSON(token: Token): string {
  return JSON.stringify(Token$outboundSchema.parse(token));
}

export function tokenFromJSON(
  jsonString: string,
): SafeParseResult<Token, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Token$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Token' from JSON`,
  );
}

/** @internal */
export const Source$inboundSchema: z.ZodNativeEnum<typeof Source> =
  z.nativeEnum(Source);

/** @internal */
export const Source$outboundSchema: z.ZodNativeEnum<typeof Source> =
  Source$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Source$ {
  /** @deprecated use `Source$inboundSchema` instead. */
  export const inboundSchema = Source$inboundSchema;
  /** @deprecated use `Source$outboundSchema` instead. */
  export const outboundSchema = Source$outboundSchema;
}

/** @internal */
export const GetApiAgentPortfolioResponse$inboundSchema: z.ZodType<
  GetApiAgentPortfolioResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  success: z.boolean().optional(),
  agentId: z.string().optional(),
  totalValue: z.number().optional(),
  tokens: z.array(z.lazy(() => Token$inboundSchema)).optional(),
  source: Source$inboundSchema.optional(),
  snapshotTime: z
    .string()
    .datetime({ offset: true })
    .transform((v) => new Date(v))
    .optional(),
});

/** @internal */
export type GetApiAgentPortfolioResponse$Outbound = {
  success?: boolean | undefined;
  agentId?: string | undefined;
  totalValue?: number | undefined;
  tokens?: Array<Token$Outbound> | undefined;
  source?: string | undefined;
  snapshotTime?: string | undefined;
};

/** @internal */
export const GetApiAgentPortfolioResponse$outboundSchema: z.ZodType<
  GetApiAgentPortfolioResponse$Outbound,
  z.ZodTypeDef,
  GetApiAgentPortfolioResponse
> = z.object({
  success: z.boolean().optional(),
  agentId: z.string().optional(),
  totalValue: z.number().optional(),
  tokens: z.array(z.lazy(() => Token$outboundSchema)).optional(),
  source: Source$outboundSchema.optional(),
  snapshotTime: z
    .date()
    .transform((v) => v.toISOString())
    .optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace GetApiAgentPortfolioResponse$ {
  /** @deprecated use `GetApiAgentPortfolioResponse$inboundSchema` instead. */
  export const inboundSchema = GetApiAgentPortfolioResponse$inboundSchema;
  /** @deprecated use `GetApiAgentPortfolioResponse$outboundSchema` instead. */
  export const outboundSchema = GetApiAgentPortfolioResponse$outboundSchema;
  /** @deprecated use `GetApiAgentPortfolioResponse$Outbound` instead. */
  export type Outbound = GetApiAgentPortfolioResponse$Outbound;
}

export function getApiAgentPortfolioResponseToJSON(
  getApiAgentPortfolioResponse: GetApiAgentPortfolioResponse,
): string {
  return JSON.stringify(
    GetApiAgentPortfolioResponse$outboundSchema.parse(
      getApiAgentPortfolioResponse,
    ),
  );
}

export function getApiAgentPortfolioResponseFromJSON(
  jsonString: string,
): SafeParseResult<GetApiAgentPortfolioResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetApiAgentPortfolioResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetApiAgentPortfolioResponse' from JSON`,
  );
}
